
% u=0;
% c=10;
% a=35;
% w=5;
% R=36.4;
% b=37;
% h1max=35;
% h2max=35;
% h3max=35;
% a1=0.289125;
% C1=51.640579;
% a2=0.305847;
% C2=50.814619;
% a3=0.299852;
% C3=51.666232;
% h1=9.83;
% h2=9.15;
% h3=9.05;
S1=c*w+h2*b*w/h2max;
S2=w*sqrt(R*R-(R-h3)^2);
gora1=h2max*(C1*h1^a1-C2*h2^a2);
dol1=h2*b*w+c*w*h2max;
A=[-a1*C1*h1^(a1-1)/(a*w) 0 0;a1*C1*h1^(a1-1)/S1 (-a2*C2*h2max*h2^(a2-1)*dol1-gora1*b*w)/(dol1*dol1) 0;0 a2*C2*h2^(a2-1)/S2 (-a3*C3*h3^(a3-1)*S2-(C2*h2^a2-C3*h3^a3)*(w*(R-h3)/sqrt(R*R-(R-h3)^2)))/(S2*S2)]
B=[1/(a*w); 0; 0] 
C=eye(3);
%C=[0;0;1];
D=[0; 0; 0];
%A=[-0.0190,0,0;0.0299,-0.0340,0;0,0.0281,-0.0282];
%B=[0.0065;0;0];
%C=[0,0,0;0,0,0;0,0,1];
Q=C'*C;
r=1;
K = lqr(A,B,Q,r)